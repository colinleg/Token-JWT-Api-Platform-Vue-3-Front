{"remainingRequest":"/home/colin/AFPA/php/Api Platform/ApiP_JWT_3/apip_jwt_3_front/node_modules/babel-loader/lib/index.js!/home/colin/AFPA/php/Api Platform/ApiP_JWT_3/apip_jwt_3_front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/colin/AFPA/php/Api Platform/ApiP_JWT_3/apip_jwt_3_front/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/colin/AFPA/php/Api Platform/ApiP_JWT_3/apip_jwt_3_front/src/views/categories.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/colin/AFPA/php/Api Platform/ApiP_JWT_3/apip_jwt_3_front/src/views/categories.vue","mtime":1630939322770},{"path":"/home/colin/AFPA/php/Api Platform/ApiP_JWT_3/apip_jwt_3_front/node_modules/cache-loader/dist/cjs.js","mtime":1628559051451},{"path":"/home/colin/AFPA/php/Api Platform/ApiP_JWT_3/apip_jwt_3_front/node_modules/babel-loader/lib/index.js","mtime":1628559051326},{"path":"/home/colin/AFPA/php/Api Platform/ApiP_JWT_3/apip_jwt_3_front/node_modules/cache-loader/dist/cjs.js","mtime":1628559051451},{"path":"/home/colin/AFPA/php/Api Platform/ApiP_JWT_3/apip_jwt_3_front/node_modules/vue-loader-v16/dist/index.js","mtime":1629188068251}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL2hvbWUvY29saW4vQUZQQS9waHAvQXBpIFBsYXRmb3JtL0FwaVBfSldUXzMvYXBpcF9qd3RfM19mcm9udC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICJ2dWV4IjsKaW1wb3J0IEFkZENhdGVnb3JpZU1vZGFsIGZyb20gJy4uL2NvbXBvbmVudHMvbW9kYWxzL2FkZENhdGVnb3JpZS52dWUnOwppbXBvcnQgQmFzZU1vZGFsIGZyb20gJy4uL2NvbXBvbmVudHMvbW9kYWxzL2Jhc2UudnVlJzsKaW1wb3J0IExvZ2luTW9kYWwgZnJvbSAnLi4vY29tcG9uZW50cy9tb2RhbHMvbG9naW4udnVlJzsKaW1wb3J0IEFkZFNvdXNDYXRlZ29yaWVNb2RhbCBmcm9tICcuLi9jb21wb25lbnRzL21vZGFscy9hZGRTb3VzQ2F0ZWdvcmllLnZ1ZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbm9tQ2F0ZWdvcmllczogW10sCiAgICAgIGlzQWRtaW46IHRydWUKICAgIH07CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZCh7fSwgbWFwR2V0dGVycyh7CiAgICBpc0Nvbm5lY3RlZDogJ2dldENvbm5lY3RlZCcsCiAgICBuZXdDYXRXYW50ZWQ6ICdnZXROZXdDYXRXYW50ZWQnLAogICAgbmV3U3ViQ2F0V2FudGVkOiAnZ2V0TmV3U3ViQ2F0V2FudGVkJywKICAgIHdoZXJlQ3JlYXRlU3ViY2F0OiAnZ2V0V2hlcmVDcmVhdGVTdWJjYXQnCiAgfSkpLAogIHdhdGNoOiB7CiAgICBpc0Nvbm5lY3RlZDogZnVuY3Rpb24gaXNDb25uZWN0ZWQoKSB7CiAgICAgIGlmICh0aGlzLmlzQ29ubmVjdGVkKSB7CiAgICAgICAgdGhpcy5jYW5jZWxNb2RhbCgnI0xvZ2luTW9kYWwnKTsKCiAgICAgICAgaWYgKHRoaXMubmV3Q2F0V2FudGVkKSB7CiAgICAgICAgICB0aGlzLnNob3dNb2RhbCgnI0FkZENhdGVnb3JpZU1vZGFsJyk7CiAgICAgICAgfSBlbHNlIGlmICh0aGlzLm5ld1N1YkNhdFdhbnRlZCkgewogICAgICAgICAgdGhpcy5zaG93TW9kYWwoIiNhZGRTb3VzQ2F0XyIuY29uY2F0KHRoaXMud2hlcmVDcmVhdGVTdWJjYXQpKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGxvZ1dhbnRlZDogZnVuY3Rpb24gbG9nV2FudGVkKCkgewogICAgICBjb25zb2xlLmxvZygnbmV3IGNhdCB3YW50ZWQgPScgKyB0aGlzLm5ld0NhdFdhbnRlZCk7CiAgICAgIGNvbnNvbGUubG9nKCduZXcgc3ViY2F0IHdhbnRlZCA9JyArIHRoaXMubmV3U3ViQ2F0V2FudGVkKTsKICAgICAgY29uc29sZS5sb2coJ3doZXJlQ3JlYXRlU3ViY2F0ID0nICsgdGhpcy53aGVyZUNyZWF0ZVN1YmNhdCk7CiAgICB9LAogICAgZ2V0Q2F0ZWdvcmllczogZnVuY3Rpb24gZ2V0Q2F0ZWdvcmllcygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBjb25maWcgPSB7CiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICBwYWdlOiAxCiAgICAgICAgfSwKICAgICAgICByZXNwb25zZVR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJwogICAgICB9OwogICAgICBheGlvcy5nZXQoJ2h0dHA6Ly8xMjcuMC4wLjE6ODAwMC9hcGkvY2F0ZWdvcmllcycsIGNvbmZpZykudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgICB2YXIgbGVuZ3RoID0gcmVzLmRhdGFbJ2h5ZHJhOm1lbWJlciddLmxlbmd0aDsKCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykgewogICAgICAgICAgX3RoaXMubm9tQ2F0ZWdvcmllcy5wdXNoKHJlcy5kYXRhWydoeWRyYTptZW1iZXInXVtpXVsnbm9tJ10pOwogICAgICAgIH0gLy8gY29uc29sZS5sb2codGhpcy5kYXRhKTsKCiAgICAgIH0pOwogICAgfSwKICAgIGdldFNvdXNDYXRlZ29yaWVzT2Y6IGZ1bmN0aW9uIGdldFNvdXNDYXRlZ29yaWVzT2Yobm9tQ2F0ZWdvcmllKSB7CiAgICAgIGNvbnNvbGUubG9nKG5vbUNhdGVnb3JpZSk7IC8vIGF4aW9zLmdldCgnaHR0cDovLzEyNy4wLjAuMTo4MDAwL2FwaS9zdWJfY2F0ZWdvcmllc18nKQogICAgfSwKICAgIHNob3dNb2RhbDogZnVuY3Rpb24gc2hvd01vZGFsKG5vbU1vZGFsKSB7CiAgICAgIHZhciBtb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Iobm9tTW9kYWwpOwogICAgICBtb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTsKICAgIH0sCiAgICBjYW5jZWxNb2RhbDogZnVuY3Rpb24gY2FuY2VsTW9kYWwobm9tTW9kYWwpIHsKICAgICAgdmFyIG1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihub21Nb2RhbCk7CiAgICAgIG1vZGFsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpOwogICAgfSwKICAgIGFkZENhdFN1Y2Nlc3M6IGZ1bmN0aW9uIGFkZENhdFN1Y2Nlc3MoKSB7CiAgICAgIHRoaXMuY2FuY2VsTW9kYWwoJyNBZGRDYXRlZ29yaWVNb2RhbCcpOwogICAgICB0aGlzLnNob3dNb2RhbCgnI0FkZENhdGVnb3JpZVN1Y2Nlc3NNb2RhbCcpOwogICAgICB0aGlzLmRhdGFzID0gW107CiAgICAgIHRoaXMuZ2V0Q2F0ZWdvcmllcygpOwogICAgfSwKICAgIHJlbG9hZENhdGVnb3JpZXM6IGZ1bmN0aW9uIHJlbG9hZENhdGVnb3JpZXMoKSB7CiAgICAgIHRoaXMubm9tQ2F0ZWdvcmllcyA9IFtdOwogICAgICB0aGlzLmdldENhdGVnb3JpZXMoKTsKICAgIH0sCiAgICBhZGRTb3VzQ2F0ZWdvcmllOiBmdW5jdGlvbiBhZGRTb3VzQ2F0ZWdvcmllKG5vbUNhdCkgewogICAgICB0aGlzLnNob3dNb2RhbCgnI2FkZFNvdXNDYXRfJyArIG5vbUNhdCk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5nZXRDYXRlZ29yaWVzKCk7CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBBZGRDYXRlZ29yaWVNb2RhbDogQWRkQ2F0ZWdvcmllTW9kYWwsCiAgICBBZGRTb3VzQ2F0ZWdvcmllTW9kYWw6IEFkZFNvdXNDYXRlZ29yaWVNb2RhbCwKICAgIEJhc2VNb2RhbDogQmFzZU1vZGFsLAogICAgTG9naW5Nb2RhbDogTG9naW5Nb2RhbAogIH0KfTs="},{"version":3,"sources":["/home/colin/AFPA/php/Api Platform/ApiP_JWT_3/apip_jwt_3_front/src/views/categories.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div name=\"container\" class=\"w-full flex flex-col justify-center items-center\">\n        <!-- Event Handler  -->\n        \n\n        <button @click=\"logWanted\">log wanted</button>\n        <button @click=\"getCategories\" class=\"text-2xl font-bold py-8\"> Catégories</button>\n\n        <button v-if=\"isAdmin\" @click=\"showModal('#AddCategorieModal')\" class=\"bg-green-600 text-white font-bold border border-gray-300 p-2 my-6 rounded\">\n             Ajouter une catégorie\n        </button>\n\n        <!-- components/modals/addCategorie.vue  -->\n        <AddCategorieModal @reload-categories-list=\"reloadCategories()\" id=\"AddCategorieModal\" class=\"hidden\" />\n\n        <BaseModal id=\"AddSousCategorieSuccessModal\" class=\"hidden\">\n            <template v-slot:modalTitle>\n                Votre sous-catégorie a bien été crée ! \n            </template>\n\n            <template v-slot:modalBody>\n                Créez votre premier post <a class=\"underline\" href=\"#\">ici</a> !\n            </template>\n        </BaseModal>\n\n        <!-- components/modals/base.vue -->\n        <BaseModal id=\"AddCategorieSuccessModal\" class=\"hidden\">\n            <template v-slot:modalTitle>\n                Votre catégorie a bien été crée ! \n            </template>\n\n            <template v-slot:modalBody>\n                Créez votre première sous-catégorie <a class=\"underline\" href=\"#\">ici</a> !\n            </template>\n        </BaseModal>\n\n        <!-- components/modals/login.vue  -->\n        <LoginModal id=\"LoginModal\" class=\"hidden\" />\n\n        <!-- components/modals/addSousCategorie.vue  -->\n        <AddSousCategorieModal v-for=\"nomCategorie in nomCategories\" :id=\"'addSousCat_' + nomCategorie\" :category=\"nomCategorie\" :key=\"nomCategorie\" class=\"hidden\"></AddSousCategorieModal>\n        \n        <div class=\"w-11/12 md:w-4/6 bg-blue-200 justify-center rounded-xl border border-gray-400 shadow-lg\">\n            <div v-for=\"nomCategorie in nomCategories\" :key='nomCategorie'>\n                <div class=\"py-4 pl-4 font-bold flex justify-between items-center\">\n                    <h2 class=\"px-12 cursor-pointer\" @click=\"getSousCategoriesOf(`${nomCategorie}`)\"> {{ nomCategorie }}</h2>\n                    <button @click=\"addSousCategorie(`${nomCategorie}`)\" :id=\"`${nomCategorie}`\" class=\"bg-blue-600 p-2 text-white rounded mr-6 font-semibold text-sm\">Ajouter une sous-catégorie</button>\n                </div>\n                <hr class=\"w-11/12 ml-6\">\n            </div>\n        </div>\n\n    </div>\n</template>\n\n<script>\n\n    import axios from 'axios';\n    import { mapGetters }  from \"vuex\";\n    import AddCategorieModal from '../components/modals/addCategorie.vue';\n    import BaseModal from '../components/modals/base.vue';\n    import LoginModal from '../components/modals/login.vue';\n    import AddSousCategorieModal from '../components/modals/addSousCategorie.vue';\n\n    export default {\n    \n        data(){\n            return {\n                nomCategories: [],\n                isAdmin: true,\n                \n            }\n        },\n        computed: {\n            ...mapGetters({\n                isConnected: 'getConnected',\n                newCatWanted: 'getNewCatWanted',\n                newSubCatWanted: 'getNewSubCatWanted',\n                whereCreateSubcat: 'getWhereCreateSubcat'\n            })\n        },\n        watch: {\n            isConnected(){\n                if(this.isConnected){\n\n                    this.cancelModal('#LoginModal');\n\n                    if(this.newCatWanted){\n                        this.showModal('#AddCategorieModal');\n                    }\n                    else if(this.newSubCatWanted){\n                        this.showModal(`#addSousCat_${this.whereCreateSubcat}`)\n                    }\n                    \n                }\n            }\n        },\n        methods : {\n            logWanted(){\n                console.log('new cat wanted =' + this.newCatWanted);\n                console.log('new subcat wanted =' + this.newSubCatWanted);\n                console.log('whereCreateSubcat =' + this.whereCreateSubcat);\n            },\n            getCategories(){\n\n                let config = {\n                    params: {\n                        page: 1\n                    },\n                    responseType: 'application/json'\n                };\n\n                axios.get('http://127.0.0.1:8000/api/categories', config)\n                    .then(res => {\n                        console.log(res);\n                        let length = res.data['hydra:member'].length;\n                        for (let i = 0; i < length ; i++){\n                            this.nomCategories.push(res.data['hydra:member'][i]['nom']);\n                        }\n                        // console.log(this.data);\n                        \n                    })\n            },\n            getSousCategoriesOf(nomCategorie){\n                console.log(nomCategorie);\n                // axios.get('http://127.0.0.1:8000/api/sub_categories_')\n            },\n            showModal(nomModal){\n                let modal = document.querySelector(nomModal);\n                modal.classList.remove('hidden');\n            },\n            cancelModal(nomModal){\n                let modal = document.querySelector(nomModal);\n                modal.classList.add('hidden');\n            },\n            addCatSuccess(){\n                this.cancelModal('#AddCategorieModal');\n                this.showModal('#AddCategorieSuccessModal');\n                this.datas = [];\n                this.getCategories();\n            },\n            reloadCategories(){\n\n                this.nomCategories = [];\n                this.getCategories();\n\n            },\n            addSousCategorie(nomCat){\n                this.showModal('#addSousCat_' + nomCat);\n            }\n        },\n        mounted(){\n           this.getCategories();\n        },\n        components: {\n            AddCategorieModal, AddSousCategorieModal, BaseModal, LoginModal\n        }\n    }\n        \n       \n    \n    \n</script>\n\n<style lang=\"css\" scoped>\n\n</style>"],"sourceRoot":""}]}