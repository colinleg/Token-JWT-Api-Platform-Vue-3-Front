{"remainingRequest":"/home/colin/AFPA/php/Api Platform/ApiP_JWT_3/apip_jwt_3_front/node_modules/babel-loader/lib/index.js!/home/colin/AFPA/php/Api Platform/ApiP_JWT_3/apip_jwt_3_front/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/home/colin/AFPA/php/Api Platform/ApiP_JWT_3/apip_jwt_3_front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/colin/AFPA/php/Api Platform/ApiP_JWT_3/apip_jwt_3_front/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/colin/AFPA/php/Api Platform/ApiP_JWT_3/apip_jwt_3_front/src/components/modals/addCategorie.vue?vue&type=template&id=849b5f82","dependencies":[{"path":"/home/colin/AFPA/php/Api Platform/ApiP_JWT_3/apip_jwt_3_front/src/components/modals/addCategorie.vue","mtime":1630931188926},{"path":"/home/colin/AFPA/php/Api Platform/ApiP_JWT_3/apip_jwt_3_front/node_modules/cache-loader/dist/cjs.js","mtime":1628559051451},{"path":"/home/colin/AFPA/php/Api Platform/ApiP_JWT_3/apip_jwt_3_front/node_modules/babel-loader/lib/index.js","mtime":1628559051326},{"path":"/home/colin/AFPA/php/Api Platform/ApiP_JWT_3/apip_jwt_3_front/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1629188068251},{"path":"/home/colin/AFPA/php/Api Platform/ApiP_JWT_3/apip_jwt_3_front/node_modules/cache-loader/dist/cjs.js","mtime":1628559051451},{"path":"/home/colin/AFPA/php/Api Platform/ApiP_JWT_3/apip_jwt_3_front/node_modules/vue-loader-v16/dist/index.js","mtime":1629188068251}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlQ29tbWVudFZOb2RlIGFzIF9jcmVhdGVDb21tZW50Vk5vZGUsIGNyZWF0ZVZOb2RlIGFzIF9jcmVhdGVWTm9kZSwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2ssIGNyZWF0ZUJsb2NrIGFzIF9jcmVhdGVCbG9jayB9IGZyb20gInZ1ZSI7CnZhciBfaG9pc3RlZF8xID0gewogIGNsYXNzOiAibW9kYWwgaC1zY3JlZW4gdy1mdWxsIGZpeGVkIGxlZnQtMCB0b3AtMCBmbGV4IGp1c3RpZnktY2VudGVyIGl0ZW1zLWNlbnRlciBiZy1ibGFjayBiZy1vcGFjaXR5LTUwIgp9Owp2YXIgX2hvaXN0ZWRfMiA9IHsKICBjbGFzczogImJnLXdoaXRlIHJvdW5kZWQgc2hhZG93LWxnIHctMTAvMTIgbWQ6dy0xLzMiCn07CnZhciBfaG9pc3RlZF8zID0gewogIGNsYXNzOiAiYm9yZGVyLWIgcHgtNCBweS0yIGZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlciIKfTsKCnZhciBfaG9pc3RlZF80ID0gLyojX19QVVJFX18qL19jcmVhdGVWTm9kZSgiaDMiLCB7CiAgY2xhc3M6ICJmb250LXNlbWlib2xkIHRleHQtbGciCn0sICJOb3V2ZWxsZSBDYXTDqWdvcmllIiwgLTEKLyogSE9JU1RFRCAqLwopOwoKdmFyIF9ob2lzdGVkXzUgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZVZOb2RlKCJkaXYiLCB7CiAgY2xhc3M6ICJwLTMgZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyIgp9LCBbLyojX19QVVJFX18qL19jcmVhdGVWTm9kZSgibGFiZWwiLCB7CiAgZm9yOiAibm9tQ2F0ZWdvcmllIgp9LCAiTm9tIGRlIGxhIGNhdMOpZ29yaWUiKSwgLyojX19QVVJFX18qL19jcmVhdGVWTm9kZSgiaW5wdXQiLCB7CiAgdHlwZTogInRleHQiLAogIGlkOiAibm9tQ2F0ZWdvcmllIiwKICBjbGFzczogImJvcmRlciBib3JkZXItZ3JheS0zMDAgcm91bmRlZCBwLTEiCn0pXSwgLTEKLyogSE9JU1RFRCAqLwopOwoKdmFyIF9ob2lzdGVkXzYgPSB7CiAgY2xhc3M6ICJmbGV4IGp1c3RpZnktZW5kIGl0ZW1zLWNlbnRlciB3LTEwMCBib3JkZXItdCBwLTMiCn07CmV4cG9ydCBmdW5jdGlvbiByZW5kZXIoX2N0eCwgX2NhY2hlLCAkcHJvcHMsICRzZXR1cCwgJGRhdGEsICRvcHRpb25zKSB7CiAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKCJkaXYiLCBfaG9pc3RlZF8xLCBbX2NyZWF0ZUNvbW1lbnRWTm9kZSgiIG1vZGFsICIpLCBfY3JlYXRlVk5vZGUoImRpdiIsIF9ob2lzdGVkXzIsIFtfY3JlYXRlQ29tbWVudFZOb2RlKCIgbW9kYWwgaGVhZGVyICIpLCBfY3JlYXRlVk5vZGUoImRpdiIsIF9ob2lzdGVkXzMsIFtfaG9pc3RlZF80LCBfY3JlYXRlVk5vZGUoImJ1dHRvbiIsIHsKICAgIG9uQ2xpY2s6IF9jYWNoZVsxXSB8fCAoX2NhY2hlWzFdID0gZnVuY3Rpb24gKCRldmVudCkgewogICAgICByZXR1cm4gJG9wdGlvbnMuY2FuY2VsTW9kYWwoJyNBZGRDYXRlZ29yaWVNb2RhbCcpOwogICAgfSksCiAgICBjbGFzczogInRleHQtYmxhY2sgY2xvc2UtbW9kYWwiCiAgfSwgIuKclyIpXSksIF9jcmVhdGVDb21tZW50Vk5vZGUoIiBtb2RhbCBib2R5ICIpLCBfaG9pc3RlZF81LCBfY3JlYXRlVk5vZGUoImRpdiIsIF9ob2lzdGVkXzYsIFtfY3JlYXRlVk5vZGUoImJ1dHRvbiIsIHsKICAgIG9uQ2xpY2s6IF9jYWNoZVsyXSB8fCAoX2NhY2hlWzJdID0gZnVuY3Rpb24gKCRldmVudCkgewogICAgICByZXR1cm4gJG9wdGlvbnMuY2FuY2VsTW9kYWwoJyNBZGRDYXRlZ29yaWVNb2RhbCcpOwogICAgfSksCiAgICBjbGFzczogImJnLXJlZC02MDAgaG92ZXI6YmctcmVkLTcwMCBweC0zIHB5LTEgcm91bmRlZCB0ZXh0LXdoaXRlIG1yLTEgY2xvc2UtbW9kYWwiCiAgfSwgIlJldG91ciIpLCBfY3JlYXRlVk5vZGUoImJ1dHRvbiIsIHsKICAgIG9uQ2xpY2s6IF9jYWNoZVszXSB8fCAoX2NhY2hlWzNdID0gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gJG9wdGlvbnMuYWRkQ2F0ZWdvcmllICYmICRvcHRpb25zLmFkZENhdGVnb3JpZS5hcHBseSgkb3B0aW9ucywgYXJndW1lbnRzKTsKICAgIH0pLAogICAgY2xhc3M6ICJiZy1ibHVlLTYwMCBob3ZlcjpiZy1ibHVlLTcwMCBweC0zIHB5LTEgcm91bmRlZCB0ZXh0LXdoaXRlIgogIH0sICJBam91dGVyIGxhIGNhdGVnb3JpZSIpXSldKV0pOwp9"},{"version":3,"sources":["/home/colin/AFPA/php/Api Platform/ApiP_JWT_3/apip_jwt_3_front/src/components/modals/addCategorie.vue"],"names":[],"mappings":";;AACS,EAAA,KAAK,EAAC;;;AAEF,EAAA,KAAK,EAAC;;;AAEF,EAAA,KAAK,EAAC;;;8BACP,YAAA,CAAyD,IAAzD,EAAyD;AAArD,EAAA,KAAK,EAAC;AAA+C,CAAzD,EAAkC,oBAAlC,EAAoD,CAAA;AAAA;AAApD,C;;8BAIJ,YAAA,CAGM,KAHN,EAGM;AAHD,EAAA,KAAK,EAAC;AAGL,CAHN,EAAkD,C,aAC9C,YAAA,CAAqD,OAArD,EAAqD;AAA9C,EAAA,GAAG,EAAC;AAA0C,CAArD,EAA0B,qBAA1B,CAD8C,E,aAE9C,YAAA,CAAgF,OAAhF,EAAgF;AAAzE,EAAA,IAAI,EAAC,MAAoE;AAA7D,EAAA,EAAE,EAAC,cAA0D;AAA3C,EAAA,KAAK,EAAC;AAAqC,CAAhF,CAF8C,CAAlD,E;;AAAA,C;;;AAIK,EAAA,KAAK,EAAC;;;uBAbnB,YAAA,CAkBM,KAlBN,EAAA,UAAA,EAkBM,CAjBF,mBAAA,CAAA,SAAA,CAiBE,EAhBF,YAAA,CAeM,KAfN,EAAA,UAAA,EAeM,CAdF,mBAAA,CAAA,gBAAA,CAcE,EAbF,YAAA,CAGM,KAHN,EAAA,UAAA,EAGM,CAFF,UAEE,EADF,YAAA,CAAkG,QAAlG,EAAkG;AAAzF,IAAA,OAAK,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA,UAAA,MAAA;AAAA,aAAE,QAAA,CAAA,WAAA,CAAW,oBAAX,CAAF;AAAA,KAAA,CAAoF;AAA/C,IAAA,KAAK,EAAC;AAAyC,GAAlG,EAAkF,GAAlF,CACE,CAHN,CAaE,EATF,mBAAA,CAAA,cAAA,CASE,EARF,UAQE,EAJF,YAAA,CAGM,KAHN,EAAA,UAAA,EAGM,CAFF,YAAA,CAAoJ,QAApJ,EAAoJ;AAA3I,IAAA,OAAK,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA,UAAA,MAAA;AAAA,aAAE,QAAA,CAAA,WAAA,CAAW,oBAAX,CAAF;AAAA,KAAA,CAAsI;AAAjG,IAAA,KAAK,EAAC;AAA2F,GAApJ,EAAqI,QAArI,CAEE,EADF,YAAA,CAA8H,QAA9H,EAA8H;AAArH,IAAA,OAAK,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA;AAAA,aAAE,QAAA,CAAA,YAAA,IAAA,QAAA,CAAA,YAAA,OAAA,QAAA,YAAF;AAAA,KAAA,CAAgH;AAAhG,IAAA,KAAK,EAAC;AAA0F,GAA9H,EAAiG,sBAAjG,CACE,CAHN,CAIE,CAfN,CAgBE,CAlBN,C","sourcesContent":["<template>\n    <div class=\"modal h-screen w-full fixed left-0 top-0 flex justify-center items-center bg-black bg-opacity-50\">\n        <!-- modal -->\n        <div class=\"bg-white rounded shadow-lg w-10/12 md:w-1/3\">\n            <!-- modal header -->\n            <div class=\"border-b px-4 py-2 flex justify-between items-center\">\n                <h3 class=\"font-semibold text-lg\">Nouvelle Catégorie</h3>\n                <button @click=\"cancelModal('#AddCategorieModal')\" class=\"text-black close-modal\">&cross;</button>\n            </div>\n            <!-- modal body -->\n            <div class=\"p-3 flex justify-between items-center\">\n                <label for=\"nomCategorie\">Nom de la catégorie</label>\n                <input type=\"text\" id=\"nomCategorie\" class=\"border border-gray-300 rounded p-1\">\n            </div>\n            <div class=\"flex justify-end items-center w-100 border-t p-3\">\n                <button @click=\"cancelModal('#AddCategorieModal')\" class=\"bg-red-600 hover:bg-red-700 px-3 py-1 rounded text-white mr-1 close-modal\">Retour</button>\n                <button @click=\"addCategorie\" class=\"bg-blue-600 hover:bg-blue-700 px-3 py-1 rounded text-white\">Ajouter la categorie</button>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport { mapActions, mapGetters } from 'vuex';\n\nexport default {\n    computed: {\n        ...mapGetters({\n            token: 'getToken'\n        })\n    },\n    methods: {\n        ...mapActions({\n            toggleCatWanted : 'toggleNewCatWanted'\n        }),\n        addCategorie(){\n\n            // Wanted : category \n            this.toggleCatWanted();\n\n            let config = {\n                headers : {\n                    Authorization: 'Bearer ' + this.token\n                }\n            };\n\n            // console.log(config);\n\n            let data = {\n                nom : document.querySelector('#nomCategorie').value,\n                nbSubCategory: 0\n            };\n\n            axios.post('http://127.0.0.1:8000/api/categories', data, config)\n                .then(res => {\n                    if(res.status == 201){\n                        this.toggleCatWanted();\n                        this.reloadCategorieList();\n                        this.cancelModal('#AddCategorieModal');\n                        this.showModal('#AddCategorieSuccessModal')\n                    }\n                })\n                .catch(err => {\n                    if(err.response){\n                        if(err.response.status === 401 && err.response.statusText == \"Unauthorized\"){\n                            this.cancelModal('#AddCategorieModal')\n                            this.showModal('#LoginModal');\n                        }\n                    }\n                });     \n        },\n        reloadCategorieList(){\n            this.$emit(\"reload-categories-list\");\n        },\n        cancelModal(nomModal){\n                let modal = document.querySelector(nomModal);\n                modal.classList.add('hidden');\n        },\n        showModal(nomModal){\n                let modal = document.querySelector(nomModal);\n                modal.classList.remove('hidden');\n        },\n    }\n}\n</script>"],"sourceRoot":""}]}